"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[141],{3141:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var r,i,o,s=t(3433),a=t(5861),u=t(9439),c=t(4687),l=t.n(c),h=t(1087),f=t(2791),d=t(168),p=t(6444),x=t(9128),g=p.ZP.div(r||(r=(0,d.Z)(["\n  display: inline-flex;\n  align-items: center;\n  margin-bottom: 10px;\n  margin-top: -20px;\n  text-transform: uppercase;\n  position: relative;\n"]))),v=p.ZP.input(i||(i=(0,d.Z)(["\n  padding: 4px 32px 4px 24px;\n  border-radius: 4px;\n  border: 1px solid #7c5400;\n  font: inherit;\n"]))),m=(0,p.ZP)(x.G4C)(o||(o=(0,d.Z)(["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  top: 6px;\n  right: 6px;\n"]))),w=t(184),Z=function(n){var e=n.value,t=n.onChange,r=n.onSubmit;return(0,w.jsx)(g,{children:(0,w.jsxs)("form",{onSubmit:r,children:[(0,w.jsx)(v,{type:"text",value:e,onChange:function(n){return t(n.target.value)}}),(0,w.jsx)(m,{})]})})},j=t(2852),y=t(387),S=t(7047),b=t(4771),C=t(4653),_=function(){var n,e,t=(0,f.useState)(null),r=(0,u.Z)(t,2),i=r[0],o=r[1],c=(0,h.lr)(),d=(0,u.Z)(c,2),p=d[0],g=d[1],v=null!==(n=p.get("query"))&&void 0!==n?n:"",m=(0,f.useState)(null!==(e=p.get("query"))&&void 0!==e?e:""),_=(0,u.Z)(m,2),k=_[0],P=_[1],Y=(0,f.useState)(!0),E=(0,u.Z)(Y,2),F=E[0],I=E[1],q=(0,f.useState)([]),A=(0,u.Z)(q,2),M=A[0],D=A[1],L=(0,f.useState)(1),z=(0,u.Z)(L,2),B=z[0],G=z[1];(0,f.useEffect)((function(){localStorage.setItem("scrollPos",0)}),[]),(0,f.useEffect)((function(){if(""!==k){if(1===B){var n=function(){var n=(0,a.Z)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{(0,y.iY)(k,B).then((function(n){D(n.results)}))}catch(i){o(i)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}if(B>1){var e=function(){var n=(0,a.Z)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{(0,y.iY)(k,B).then((function(n){D((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(n.results))}))}))}catch(i){o(i)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();e()}}}),[B,k]),(0,f.useEffect)((function(){v!==k&&D([])}),[v,k]);0!==M.length&&(0,y.iY)(k,B).then((function(n){M.length===n.total_results&&I(!1)}));var J=0===M.length&&""===k&&""===v,N=0===M.length&&1===B&&k===v&&""!==k,O=M.length>=1&&""!==v;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z,{value:v,onChange:function(n){g(""!==n?{query:n}:{})},onSubmit:function(n){n.preventDefault(),P(v),G(1)}}),(0,w.jsx)(j.v0,{style:{visibility:"hidden",margin:0,padding:0},children:"Find movie that you want to watch above"}),J&&(0,w.jsx)(j.v0,{children:"Find movie that you want to watch above"}),O&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b.Z,{dataLength:M.length,next:function(){G((function(n){return n+1}))},style:{overflow:"auto"},initialScrollY:JSON.parse(window.localStorage.getItem("scrollPos")),height:(0,C.CY)(),hasMore:F,loader:(0,w.jsx)("h4",{style:{textAlign:"center"},children:"Loading... "}),endMessage:(0,w.jsx)("p",{style:{textAlign:"center"},children:(0,w.jsx)("b",{children:"Yay! You have seen it all ;D"})}),children:(0,w.jsx)(S.Z,{movies:M,onClick:function(){return(0,C.lB)((0,C.nE)())}})}),(0,C.nE)()>1e3&&(0,w.jsxs)(j.$Z,{onClick:function(){return(0,C.SM)()},children:["UP ",(0,w.jsx)(x.sIl,{size:24})]})]}),N&&(0,w.jsx)(j.v0,{children:"Sorry, there are no movies with that name..."}),null!==i&&(0,w.jsxs)(j.v0,{children:["Something went wrong on API... The messege error `",i,"`"]})]})}}}]);
//# sourceMappingURL=141.6fcc84a5.chunk.js.map