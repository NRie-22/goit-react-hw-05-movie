"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[544],{9544:function(e,t,n){n.r(t);var r=n(3433),s=n(5861),i=n(9439),c=n(4687),o=n.n(c),a=n(387),l=n(7047),u=n(2852),h=n(9128),f=n(2791),d=n(4771),g=n(4653),p=n(184);t.default=function(){var e=(0,f.useState)(a.Q_.idle),t=(0,i.Z)(e,2),n=t[0],c=t[1],_=(0,f.useState)([{id:0,poster_path:null,title:"",original_title:"",release_date:"",vote_average:0,vote_count:0}]),x=(0,i.Z)(_,2),v=x[0],j=x[1],w=(0,f.useState)(2),m=(0,i.Z)(w,2),S=m[0],Z=m[1],y=(0,f.useState)(null),k=(0,i.Z)(y,2),Q=k[0],C=k[1],P=(0,f.useState)(!0),b=(0,i.Z)(P,2),E=b[0],I=b[1];(0,f.useEffect)((function(){function e(){return e=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(0,a.Hg)(1).then((function(e){j(e.results)})),c(a.Q_.resolved)}catch(Q){C(Q),c(a.Q_.rejected)}case 1:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}c(a.Q_.pending),localStorage.setItem("scrollPos",0),function(){e.apply(this,arguments)}()}),[]),(0,f.useEffect)((function(){function e(){return(e=(0,s.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.Hg)(S).then((function(e){return e.results}));case 3:t=e.sent,j((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S]);return 0!==v.length&&(0,a.Hg)(S).then((function(e){v.length===e.total_results&&I(!1)})),(0,p.jsxs)(p.Fragment,{children:[n===a.Q_.resolved&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{style:{fontSize:"20px"},children:"Trending today"}),(0,p.jsx)(d.Z,{dataLength:v.length,next:function(){Z((function(e){return e+1}))},initialScrollY:JSON.parse(window.localStorage.getItem("scrollPos")),height:(0,g.CY)(),hasMore:E,loader:(0,p.jsx)("h4",{style:{textAlign:"center"},children:"Loading..."}),endMessage:(0,p.jsx)("p",{style:{textAlign:"center"},children:(0,p.jsx)("b",{children:"Yay! You have seen it all ;D"})}),children:(0,p.jsx)(l.Z,{movies:v,onClick:function(){return(0,g.lB)((0,g.nE)())}})}),(0,g.nE)()>1e3&&(0,p.jsxs)(u.$Z,{onClick:function(){return(0,g.SM)()},children:["UP ",(0,p.jsx)(h.sIl,{size:24})]})]}),n===a.Q_.rejected&&(0,p.jsxs)("h3",{children:["Something went wrong on API... The messege error `",Q,"`"]}),n===a.Q_.pending&&(0,p.jsx)("h3",{children:"Please wait, information is loading..."})]})}}}]);
//# sourceMappingURL=544.f7ca47c3.chunk.js.map